<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>sbs - compgen.io</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-83662616-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-83662616-1'); </script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>sbs | compgen.io</title> <meta name="generator" content="Jekyll v3.8.7" /> <meta property="og:title" content="sbs" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Data wrangling tools for computational genomics" /> <meta property="og:description" content="Data wrangling tools for computational genomics" /> <link rel="canonical" href="https://compgen.io/projects/sbs" /> <meta property="og:url" content="https://compgen.io/projects/sbs" /> <meta property="og:site_name" content="compgen.io" /> <script type="application/ld+json"> {"@type":"WebPage","url":"https://compgen.io/projects/sbs","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://compgen.io/assets/img/compgen.png"}},"headline":"sbs","description":"Data wrangling tools for computational genomics","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="https://compgen.io/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item "><a href="https://compgen.io/" class="navigation-list-link">Home</a></li><li class="navigation-list-item active "><a href="https://compgen.io/projects" class="navigation-list-link">Projects</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="https://compgen.io/ngsutilsj" class="navigation-list-link">ngsutilsj</a> </li><li class="navigation-list-item "><a href="https://compgen.io/projects/cgsplice.html" class="navigation-list-link">cgsplice</a> </li><li class="navigation-list-item "><a href="https://compgen.io/projects/swalign.html" class="navigation-list-link">swalign</a> </li><li class="navigation-list-item nav_gap"><a href="https://compgen.io/cgpipe" class="navigation-list-link">cgpipe</a> </li><li class="navigation-list-item active "><a href="https://compgen.io/projects/sbs" class="navigation-list-link active">sbs</a> </li><li class="navigation-list-item nav_gap"><a href="https://compgen.io/tabl" class="navigation-list-link">tabl</a> </li><li class="navigation-list-item "><a href="https://compgen.io/projects/kdpeaks.html" class="navigation-list-link">kdpeaks</a> </li><li class="navigation-list-item "><a href="https://compgen.io/projects/compgen-common.html" class="navigation-list-link">compgen-common</a> </li><li class="navigation-list-item "><a href="https://compgen.io/projects/compgen-cmdline.html" class="navigation-list-link">compgen-cmdline</a> </li><li class="navigation-list-item nav_gap"><a href="https://compgen.io/projects/ngsutils" class="navigation-list-link">NGSUtils</a> </li><li class="navigation-list-item "><a href="https://compgen.io/projects/tabutils.html" class="navigation-list-link">tabutils</a> </li><li class="navigation-list-item "><a href="https://compgen.io/projects/basespace-download.html" class="navigation-list-link">basespace-download</a> </li></ul></li><li class="navigation-list-item nav_gap "><a href="https://compgen.io/contact" class="navigation-list-link">Contact / Help</a></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4"> <!-- <a href="https://compgen.io/"><img src="assets/img/compgen-icon.png" style="float:left; width: 32px;"/> compgen.io</a><br/>data wrangling for <br/>computational genomics --> <a href="https://compgen.io/" class="footer_link"><img src="https://compgen.io//assets/img/compgen-slug.png"/></a> </p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="subtitle"> Data wrangling for computational genomics </div> <ul class="list-style-none text-small aux-nav"> <li class="d-inline-block my-0"><a href="//github.com/compgen-io">GitHub</a></li> </ul> </div> <div class="page"> <nav class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="https://compgen.io/projects">Projects</a></li> <li class="breadcrumb-nav-list-item"><span>sbs</span></li> </ol> </nav> <div id="main-content" class="page-content" role="main"> <h1 id="sbs"> <a href="#sbs" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> SBS </h1> <p><a href="https://github.com/compgen-io/sbs">Github</a></p> <p>SBS is a single-user batch job scheduler for workstations or single servers. SBS is a good stand-in for traditional schedulers like PBS, SGE, or SLURM. Not everyone wants to have a complete install of SGE on their laptop. In those cases, SBS can be a quick replacement that requires minimal overhead. SBS is a single file program written in Python that stores job definitions in a managed folder. All job state is stored in this folder. There is no requirement for a constantly running daemon to manage the jobs. The user can start running these jobs at anytime and using whatever resource restrictions are necessary (eg if you have 4 cores on a laptop, but only want to devote 2 cores to running background jobs, you can do that).</p> <p>SBS runs jobs in a first-available, first run basis. Meaning, the first job that fits the available resources that is also ready to run (has no pending dependencies) will be run. This simple scheduling algorithm doesn't take into account wall-time, so it is not as efficient as a more complete backfilling schdeuler. However, SBS is also a single file, so installation is a lot easier than a proper scheduler! <code class="language-plaintext highlighter-rouge">sbs run</code> does not run as a daemon, so it is best executed in the context of a screen or tmux session.</p> <p>SBS is also supported by <a href="/cgpipe">cgpipe</a> pipelines as a supported job runner. This lets you scale the same pipelines from your local machine to an HPC cluster.</p> <h2 id="installation"> <a href="#installation" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Installation </h2> <p>Download the <code class="language-plaintext highlighter-rouge">sbs</code> file and put it somewhere in your <code class="language-plaintext highlighter-rouge">$PATH</code>. No other installation is required.</p> <h2 id="usage"> <a href="#usage" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Usage </h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Usage: sbs {-d sbshome} command {options}

Commands:
  cancel      Cancel a job
  cleanup     Remove all completed jobs
  help        Help for a particular command
  hold        Hold a job from running until released
  release     Release a job
  run         Start running jobs
  shutdown    Stop running jobs (and cancel any currently running jobs)
  status      Get the run status of a job (run state)
  submit      Submit a new job to the queue
</code></pre></div></div> <h2 id="example"> <a href="#example" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Example </h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sbs submit job1.sh
1

$ sbs submit job2.sh
2

$ sbs status
job-id   job-name   status   submit                start   end
1        sbs.1      H        2017-04-12 23:41:47              
2        sbs.2      H        2017-04-12 23:41:48              

$ sbs run
</code></pre></div></div> <h2 id="job-options"> <a href="#job-options" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Job options </h2> <p>SBS job scripts support a number of configurable options. Like PBS, SGE, or SLURM, these values can be set as arguments at submit time or as part of the script itself. <code class="language-plaintext highlighter-rouge">sbs submit</code> will read a job script from a filename or from stdin. Options can be set within the script if the line starts with <code class="language-plaintext highlighter-rouge">#SBS</code>.</p> <p>Here are the available options:</p> <div class="table-wrapper"><table> <thead> <tr> <th> </th> <th> </th> </tr> </thead> <tbody> <tr> <td>-name job-name</td> <td>The name of the job (easier to track than the number)</td> </tr> <tr> <td>-mem val</td> <td>Memory units to reserve: 2G, 200M, etc. (not enforced, just used for scheduling)</td> </tr> <tr> <td>-procs N</td> <td>Number of processor units to use (not enforced, just used for scheduling)</td> </tr> <tr> <td>-mail email@example.com</td> <td>Email when the job starts and finishes</td> </tr> <tr> <td>-hold</td> <td>Set a user-hold on the job. Job will not enter the queue until released</td> </tr> <tr> <td>-stderr fname</td> <td>Write stderr to this file (default: store in SBS job directory)</td> </tr> <tr> <td>-stdout fname</td> <td>Write stdout to this file (default: store in SBS job directory)</td> </tr> <tr> <td>-wd</td> <td>Working directory to use (default: current directory)</td> </tr> <tr> <td>-afterok jobid1:jobid2:…</td> <td>Dependent jobs - don't start this job until these jobs have finished successfully</td> </tr> </tbody> </table></div> <h3 id="example-script"> <a href="#example-script" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Example script </h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#!/bin/bash
#SBS -name myjob
#SBS -procs 2

command-goes-here
</code></pre></div></div> <h2 id="run-options"> <a href="#run-options" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Run options </h2> <p>Running jobs is a separate process and needs to be manually initiated. Each job is independently executed as a new process. If a job ends with a return code of <code class="language-plaintext highlighter-rouge">0</code>, it is considered a successful execution.</p> <p>Here are the available run options:</p> <div class="table-wrapper"><table> <thead> <tr> <th> </th> <th> </th> </tr> </thead> <tbody> <tr> <td>-maxprocs N</td> <td>The maximum number of processors to schedule (default: all processors)</td> </tr> <tr> <td>-maxmem val</td> <td>The maximum amount of memory to manage (ex: 4G) (default: unlimited, not managed)</td> </tr> <tr> <td>-forever</td> <td>Keep waiting for new jobs after the job queue has completed (default: exit when all jobs are done)</td> </tr> </tbody> </table></div> <h2 id="sbs-directory"> <a href="#sbs-directory" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> SBS directory </h2> <p>The SBS home directory (where the job queue data is stored) is by default <code class="language-plaintext highlighter-rouge">./.sbs</code>, that is, in the current directory. However, this can be set as an environmental variable: <code class="language-plaintext highlighter-rouge">$SBSHOME</code> or at the command line using <code class="language-plaintext highlighter-rouge">sbs -d dir command</code>.</p> </div> </div> </div> </div> </body> </html>
